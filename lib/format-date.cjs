var e,t=require("@chriscdn/to-date"),r=require("@chriscdn/memoize"),a=require("get-user-locale");function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n.apply(null,arguments)}exports.FormatDatePreset=void 0,(e=exports.FormatDatePreset||(exports.FormatDatePreset={}))[e.None=0]="None",e[e.DateTime=1]="DateTime",e[e.DateTimeShort=2]="DateTimeShort",e[e.Date=3]="Date",e[e.DateMedium=4]="DateMedium",e[e.DateShort=5]="DateShort";var o=r.Memoize(function(e,t){return new Intl.DateTimeFormat(e,t)},{maxSize:20}),i=r.Memoize(function(e,t){return new Intl.RelativeTimeFormat(e,t)},{maxSize:20}),u=r.Memoize(function(e){var t;return(null!=(t=e.locale)?t:a.getUserLocale({fallbackLocale:"en-GB"})).replace("_","-")}),s=r.Memoize(function(e,r){var a;void 0===r&&(r={});var i=null!=(a=r.epochUnit)?a:t.EpochUnit.BESTGUESS,s=t.toDate(e,i);if(t.isDate(s)){var m,c,l=u(r),D=null!=(m=r.preset)?m:exports.FormatDatePreset.DateTime,d=null!=(c=r.formatOptions)?c:{},h=function(e){switch(e){case exports.FormatDatePreset.None:return{};case exports.FormatDatePreset.DateTime:return{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};case exports.FormatDatePreset.DateTimeShort:return{dateStyle:"short",timeStyle:"short"};case exports.FormatDatePreset.Date:return{year:"numeric",month:"long",day:"2-digit"};case exports.FormatDatePreset.DateMedium:return{year:"numeric",month:"short",day:"2-digit"};case exports.FormatDatePreset.DateShort:return{year:"numeric",month:"2-digit",day:"2-digit"};default:return{dateStyle:"full"}}}(D),S=n({},h,d);return o(l,S).format(s)}return null}),m=r.Memoize(function(e){var r=t.toDate(e);if(t.isDate(r)){var a=r.getFullYear(),n=r.getMonth()+1,o=r.getDate();return[a,n.toString().padStart(2,"0"),o.toString().padStart(2,"0")].join("-")}return null}),c=r.Memoize(function(e){var r=t.toDate(e);if(r){var a=r.getFullYear(),n=r.getMonth()+1,o=r.getDate(),i=r.getHours(),u=r.getMinutes(),s=r.getSeconds();return[[a,n.toString().padStart(2,"0"),o.toString().padStart(2,"0")].join("-"),[i.toString().padStart(2,"0"),u.toString().padStart(2,"0"),s.toString().padStart(2,"0")].join(":")].join("T")}return null}),l=r.Memoize(function(e,r,a){var i;void 0===a&&(a={});var s=null!=(i=a.epochUnit)?i:t.EpochUnit.BESTGUESS,m=t.toDate(e,s),c=t.toDate(r,s);if(t.isDate(m)&&t.isDate(c)){var l,D=u(a),d=null!=(l=a.formatOptions)?l:{};return o(D,n({dateStyle:"long"},d)).formatRange(m,c)}return null});exports.formatDate=s,exports.formatDateRange=l,exports.formatDateRelative=function(e,r,a){var n,o;void 0===r&&(r={}),void 0===a&&(a=void 0);var s=null!=(n=r.epochUnit)?n:t.EpochUnit.BESTGUESS,m=t.toDate(e,s),c=null!=(o=t.toDate(a))?o:new Date;if(t.isDate(m)&&t.isDate(c)){var l,D,d,h=u(r),S=null!=(l=r.formatOptions)?l:{},p=null!=(D=t.toDate(a))?D:new Date,f=t.toDate(e,s),g=Math.round((f.getTime()-p.getTime())/1e3),M=Math.abs(g),v=function(e,t){switch(t){case"year":case"years":return Math.round(e/31536e3);case"quarter":case"quarters":return Math.round(e/7884e3);case"month":case"months":return Math.round(e/2629800);case"week":case"weeks":return Math.round(e/604800);case"day":case"days":return Math.round(e/86400);case"hour":case"hours":return Math.round(e/3600);case"minute":case"minutes":return Math.round(e/60);case"second":case"seconds":return e}}(g,d=r.unit?r.unit:M<60?"second":M<3600?"minute":M<86400?"hour":M<2592e3?"day":M<31536e3?"month":"year");return i(h,S).format(v,d)}return null},exports.formatDateYYYYMMDD=m,exports.formatDateYYYYMMDDTHHMMSS=c;
//# sourceMappingURL=format-date.cjs.map

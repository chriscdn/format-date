var e,t=require("@chriscdn/to-date"),r=require("@chriscdn/memoize");function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},a.apply(null,arguments)}exports.FormatDatePreset=void 0,(e=exports.FormatDatePreset||(exports.FormatDatePreset={}))[e.None=0]="None",e[e.DateTime=1]="DateTime",e[e.DateTimeMedium=2]="DateTimeMedium",e[e.DateTimeShort=3]="DateTimeShort",e[e.Date=4]="Date",e[e.DateMedium=5]="DateMedium",e[e.DateShort=6]="DateShort";var n=86400,o=7*n,i=365*n,u=function(e){var t=new Date(e.getTime());return t.setUTCHours(0,0,0,0),t},m=r.Memoize(function(e,t){return new Intl.DateTimeFormat(e,t)},{maxSize:20}),s=r.Memoize(function(e,t){return new Intl.RelativeTimeFormat(e,t)},{maxSize:20}),c=function(e){return null==e?void 0:e.replace("_","-")},d=r.Memoize(function(e,r){var n;void 0===r&&(r={});var o=null!=(n=r.epochUnit)?n:t.EpochUnit.BESTGUESS,i=t.toDate(e,o);if(t.isDate(i)){var u,s,d=c(r.locale),l=null!=(u=r.preset)?u:exports.FormatDatePreset.DateTime,h=null!=(s=r.formatOptions)?s:{},D=function(e){switch(e){case exports.FormatDatePreset.None:return{};case exports.FormatDatePreset.DateTime:return{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};case exports.FormatDatePreset.DateTimeMedium:return{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};case exports.FormatDatePreset.DateTimeShort:return{dateStyle:"short",timeStyle:"short"};case exports.FormatDatePreset.Date:return{year:"numeric",month:"long",day:"2-digit"};case exports.FormatDatePreset.DateMedium:return{year:"numeric",month:"short",day:"2-digit"};case exports.FormatDatePreset.DateShort:return{year:"numeric",month:"2-digit",day:"2-digit"};default:return{dateStyle:"full"}}}(l),f=a({},D,h);return m(d,f).format(i)}return null}),l=r.Memoize(function(e,r){var a=t.toDate(e);if(t.isDate(a)){var n=m("en-US",{timeZone:r,hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(a);return n.find(function(e){return"year"===e.type}).value.padStart(4,"0")+"-"+n.find(function(e){return"month"===e.type}).value+"-"+n.find(function(e){return"day"===e.type}).value}return null}),h=r.Memoize(function(e,r){var a=t.toDate(e);if(t.isDate(a)){var n=m("en-US",{timeZone:r,hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(a);return n.find(function(e){return"year"===e.type}).value.padStart(4,"0")+"-"+n.find(function(e){return"month"===e.type}).value+"-"+n.find(function(e){return"day"===e.type}).value+"T"+n.find(function(e){return"hour"===e.type}).value+":"+n.find(function(e){return"minute"===e.type}).value+":"+n.find(function(e){return"second"===e.type}).value}return null}),D=r.Memoize(function(e,r,n){var o;void 0===n&&(n={});var i=null!=(o=n.epochUnit)?o:t.EpochUnit.BESTGUESS,u=t.toDate(e,i),s=t.toDate(r,i);if(t.isDate(u)&&t.isDate(s)){var d,l=c(n.locale),h=null!=(d=n.formatOptions)?d:{};return m(l,a({dateStyle:"long"},h)).formatRange(u,s)}return null});exports.formatDate=d,exports.formatDateRange=D,exports.formatDateRelative=function(e,r,a){var m,d;void 0===r&&(r={}),void 0===a&&(a=void 0);var l=null!=(m=r.epochUnit)?m:t.EpochUnit.BESTGUESS,h=t.toDate(e,l),D=null!=(d=t.toDate(a,l))?d:new Date;if(t.isDate(h)&&t.isDate(D)){var f,p,y=c(r.locale),v=null!=(f=r.formatOptions)?f:{},M=Math.round((h.getTime()-D.getTime())/1e3),g=Math.abs(M);p=r.unit?r.unit:g<60?"second":g<3600?"minute":g<n?"hour":g<2*o?"day":g<5256e3?"week":g<i?"month":"year";var S=function(e,t){switch(t){case"year":case"years":return r=e/i,a=Math.pow(10,1),Math.round(r*a)/a;case"quarter":case"quarters":return Math.round(e/7884e3);case"month":case"months":return Math.round(e/2628e3);case"week":case"weeks":return Math.round(e/o);case"day":case"days":return Math.round(e/n);case"hour":case"hours":return Math.round(e/3600);case"minute":case"minutes":return Math.round(e/60);case"second":case"seconds":return e}var r,a}(g>n?Math.round((u(h).getTime()-u(D).getTime())/1e3):M,p);return s(y,v).format(S,p)}return null},exports.formatDateYYYYMMDD=l,exports.formatDateYYYYMMDDTHHMMSS=h;
//# sourceMappingURL=format-date.cjs.map

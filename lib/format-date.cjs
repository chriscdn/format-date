var t,e=require("@chriscdn/to-date"),r=require("@chriscdn/memoize"),a=require("get-user-locale");function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)({}).hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},o.apply(null,arguments)}exports.FormatDatePreset=void 0,(t=exports.FormatDatePreset||(exports.FormatDatePreset={}))[t.None=0]="None",t[t.DateTime=1]="DateTime",t[t.DateTimeShort=2]="DateTimeShort",t[t.Date=3]="Date",t[t.DateMedium=4]="DateMedium",t[t.DateShort=5]="DateShort";var n=r.Memoize(function(t,e){return Intl.DateTimeFormat(t,e)},{maxSize:20}),i=r.Memoize(function(t,r,a,o){var i=e.toDate(t,a),u=n(r,o);return e.isDate(i)?u.format(i):void 0}),u=r.Memoize(function(t){var e;return(null!=(e=t.locale)?e:a.getUserLocale({fallbackLocale:"en-GB"})).replace("_","-")}),m=r.Memoize(function(t,r){if(void 0===r&&(r={}),null==t)return null;var a,n,m,s=u(r),l=null!=(a=r.preset)?a:exports.FormatDatePreset.DateTime,D=null!=(n=r.epochUnit)?n:e.EpochUnit.BESTGUESS,c=null!=(m=r.formatOptions)?m:{},S=function(t){switch(t){case exports.FormatDatePreset.None:return{};case exports.FormatDatePreset.DateTime:return{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};case exports.FormatDatePreset.DateTimeShort:return{dateStyle:"short",timeStyle:"short"};case exports.FormatDatePreset.Date:return{year:"numeric",month:"long",day:"2-digit"};case exports.FormatDatePreset.DateMedium:return{year:"numeric",month:"short",day:"2-digit"};case exports.FormatDatePreset.DateShort:return{year:"numeric",month:"2-digit",day:"2-digit"};default:return{dateStyle:"full"}}}(l),d=o({},S,c);return i(t,s,D,d)}),s=r.Memoize(function(t){var r=e.toDate(t);if(r){var a=r.getFullYear(),o=r.getMonth()+1,n=r.getDate();return[a,o.toString().padStart(2,"0"),n.toString().padStart(2,"0")].join("-")}return null}),l=r.Memoize(function(t){var r=e.toDate(t);if(r){var a=r.getFullYear(),o=r.getMonth()+1,n=r.getDate(),i=r.getHours(),u=r.getMinutes(),m=r.getSeconds();return[[a,o.toString().padStart(2,"0"),n.toString().padStart(2,"0")].join("-"),[i.toString().padStart(2,"0"),u.toString().padStart(2,"0"),m.toString().padStart(2,"0")].join(":")].join("T")}return null});exports.formatDate=m,exports.formatDateYYYYMMDD=s,exports.formatDateYYYYMMDDTHHMMSS=l;
//# sourceMappingURL=format-date.cjs.map

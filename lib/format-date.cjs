var e,t=require("@chriscdn/to-date"),r=require("@chriscdn/memoize");function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(null,arguments)}exports.FormatDatePreset=void 0,(e=exports.FormatDatePreset||(exports.FormatDatePreset={}))[e.None=0]="None",e[e.DateTime=1]="DateTime",e[e.DateTimeShort=2]="DateTimeShort",e[e.Date=3]="Date",e[e.DateMedium=4]="DateMedium",e[e.DateShort=5]="DateShort";var a=86400,o=7*a,i=365*a,u=function(e){var t=new Date(e.getTime());return t.setUTCHours(0,0,0,0),t},s=r.Memoize(function(e,t){return new Intl.DateTimeFormat(e,t)},{maxSize:20}),m=r.Memoize(function(e,t){return new Intl.RelativeTimeFormat(e,t)},{maxSize:20}),c=function(e){return null==e?void 0:e.replace("_","-")},d=r.Memoize(function(e,r){var a;void 0===r&&(r={});var o=null!=(a=r.epochUnit)?a:t.EpochUnit.BESTGUESS,i=t.toDate(e,o);if(t.isDate(i)){var u,m,d=c(r.locale),l=null!=(u=r.preset)?u:exports.FormatDatePreset.DateTime,h=null!=(m=r.formatOptions)?m:{},f=function(e){switch(e){case exports.FormatDatePreset.None:return{};case exports.FormatDatePreset.DateTime:return{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};case exports.FormatDatePreset.DateTimeShort:return{dateStyle:"short",timeStyle:"short"};case exports.FormatDatePreset.Date:return{year:"numeric",month:"long",day:"2-digit"};case exports.FormatDatePreset.DateMedium:return{year:"numeric",month:"short",day:"2-digit"};case exports.FormatDatePreset.DateShort:return{year:"numeric",month:"2-digit",day:"2-digit"};default:return{dateStyle:"full"}}}(l),D=n({},f,h);return s(d,D).format(i)}return null}),l=r.Memoize(function(e,r){var n=t.toDate(e);if(t.isDate(n)){var a=s("en-US",{timeZone:r,hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(n);return a.find(function(e){return"year"===e.type}).value+"-"+a.find(function(e){return"month"===e.type}).value+"-"+a.find(function(e){return"day"===e.type}).value}return null}),h=r.Memoize(function(e,r){var n=t.toDate(e);if(t.isDate(n)){var a=s("en-US",{timeZone:r,hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(n);return a.find(function(e){return"year"===e.type}).value+"-"+a.find(function(e){return"month"===e.type}).value+"-"+a.find(function(e){return"day"===e.type}).value+"T"+a.find(function(e){return"hour"===e.type}).value+":"+a.find(function(e){return"minute"===e.type}).value+":"+a.find(function(e){return"second"===e.type}).value}return null}),f=r.Memoize(function(e,r,a){var o;void 0===a&&(a={});var i=null!=(o=a.epochUnit)?o:t.EpochUnit.BESTGUESS,u=t.toDate(e,i),m=t.toDate(r,i);if(t.isDate(u)&&t.isDate(m)){var d,l=c(a.locale),h=null!=(d=a.formatOptions)?d:{};return s(l,n({dateStyle:"long"},h)).formatRange(u,m)}return null});exports.formatDate=d,exports.formatDateRange=f,exports.formatDateRelative=function(e,r,n){var s,c;void 0===r&&(r={}),void 0===n&&(n=void 0);var d=null!=(s=r.epochUnit)?s:t.EpochUnit.BESTGUESS,l=t.toDate(e,d),h=null!=(c=t.toDate(n,d))?c:new Date;if(t.isDate(l)&&t.isDate(h)){var f,D,p=r.locale,v=null!=(f=r.formatOptions)?f:{},y=Math.round((l.getTime()-h.getTime())/1e3),g=Math.abs(y);D=r.unit?r.unit:g<60?"second":g<3600?"minute":g<a?"hour":g<2*o?"day":g<5256e3?"week":g<i?"month":"year";var M=function(e,t){switch(t){case"year":case"years":return r=e/i,n=Math.pow(10,1),Math.round(r*n)/n;case"quarter":case"quarters":return Math.round(e/7884e3);case"month":case"months":return Math.round(e/2628e3);case"week":case"weeks":return Math.round(e/o);case"day":case"days":return Math.round(e/a);case"hour":case"hours":return Math.round(e/3600);case"minute":case"minutes":return Math.round(e/60);case"second":case"seconds":return e}var r,n}(g>a?Math.round((u(l).getTime()-u(h).getTime())/1e3):y,D);return m(p,v).format(M,D)}return null},exports.formatDateYYYYMMDD=l,exports.formatDateYYYYMMDDTHHMMSS=h;
//# sourceMappingURL=format-date.cjs.map

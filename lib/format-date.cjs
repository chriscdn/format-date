var e,t=require("@chriscdn/to-date"),r=require("@chriscdn/memoize");function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},a.apply(null,arguments)}exports.FormatDatePreset=void 0,(e=exports.FormatDatePreset||(exports.FormatDatePreset={}))[e.None=0]="None",e[e.DateTime=1]="DateTime",e[e.DateTimeShort=2]="DateTimeShort",e[e.Date=3]="Date",e[e.DateMedium=4]="DateMedium",e[e.DateShort=5]="DateShort";var n=86400,o=7*n,i=365*n,u=function(e){var t=new Date(e.getTime());return t.setUTCHours(0,0,0,0),t},s=r.Memoize(function(e,t){return new Intl.DateTimeFormat(e,t)},{maxSize:20}),m=r.Memoize(function(e,t){return new Intl.RelativeTimeFormat(e,t)},{maxSize:20}),c=function(e){return null==e?void 0:e.replace("_","-")},d=r.Memoize(function(e,r){var n;void 0===r&&(r={});var o=null!=(n=r.epochUnit)?n:t.EpochUnit.BESTGUESS,i=t.toDate(e,o);if(t.isDate(i)){var u,m,d=c(r.locale),l=null!=(u=r.preset)?u:exports.FormatDatePreset.DateTime,h=null!=(m=r.formatOptions)?m:{},f=function(e){switch(e){case exports.FormatDatePreset.None:return{};case exports.FormatDatePreset.DateTime:return{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};case exports.FormatDatePreset.DateTimeShort:return{dateStyle:"short",timeStyle:"short"};case exports.FormatDatePreset.Date:return{year:"numeric",month:"long",day:"2-digit"};case exports.FormatDatePreset.DateMedium:return{year:"numeric",month:"short",day:"2-digit"};case exports.FormatDatePreset.DateShort:return{year:"numeric",month:"2-digit",day:"2-digit"};default:return{dateStyle:"full"}}}(l),D=a({},f,h);return s(d,D).format(i)}return null}),l=r.Memoize(function(e,r){var a=t.toDate(e);if(t.isDate(a)){var n=s("en-US",{timeZone:r,hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(a);return n.find(function(e){return"year"===e.type}).value.padStart(4,"0")+"-"+n.find(function(e){return"month"===e.type}).value+"-"+n.find(function(e){return"day"===e.type}).value}return null}),h=r.Memoize(function(e,r){var a=t.toDate(e);if(t.isDate(a)){var n=s("en-US",{timeZone:r,hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(a);return n.find(function(e){return"year"===e.type}).value.padStart(4,"0")+"-"+n.find(function(e){return"month"===e.type}).value+"-"+n.find(function(e){return"day"===e.type}).value+"T"+n.find(function(e){return"hour"===e.type}).value+":"+n.find(function(e){return"minute"===e.type}).value+":"+n.find(function(e){return"second"===e.type}).value}return null}),f=r.Memoize(function(e,r,n){var o;void 0===n&&(n={});var i=null!=(o=n.epochUnit)?o:t.EpochUnit.BESTGUESS,u=t.toDate(e,i),m=t.toDate(r,i);if(t.isDate(u)&&t.isDate(m)){var d,l=c(n.locale),h=null!=(d=n.formatOptions)?d:{};return s(l,a({dateStyle:"long"},h)).formatRange(u,m)}return null});exports.formatDate=d,exports.formatDateRange=f,exports.formatDateRelative=function(e,r,a){var s,d;void 0===r&&(r={}),void 0===a&&(a=void 0);var l=null!=(s=r.epochUnit)?s:t.EpochUnit.BESTGUESS,h=t.toDate(e,l),f=null!=(d=t.toDate(a,l))?d:new Date;if(t.isDate(h)&&t.isDate(f)){var D,p,v=c(r.locale),y=null!=(D=r.formatOptions)?D:{},g=Math.round((h.getTime()-f.getTime())/1e3),S=Math.abs(g);p=r.unit?r.unit:S<60?"second":S<3600?"minute":S<n?"hour":S<2*o?"day":S<5256e3?"week":S<i?"month":"year";var M=function(e,t){switch(t){case"year":case"years":return r=e/i,a=Math.pow(10,1),Math.round(r*a)/a;case"quarter":case"quarters":return Math.round(e/7884e3);case"month":case"months":return Math.round(e/2628e3);case"week":case"weeks":return Math.round(e/o);case"day":case"days":return Math.round(e/n);case"hour":case"hours":return Math.round(e/3600);case"minute":case"minutes":return Math.round(e/60);case"second":case"seconds":return e}var r,a}(S>n?Math.round((u(h).getTime()-u(f).getTime())/1e3):g,p);return m(v,y).format(M,p)}return null},exports.formatDateYYYYMMDD=l,exports.formatDateYYYYMMDDTHHMMSS=h;
//# sourceMappingURL=format-date.cjs.map

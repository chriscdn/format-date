import{toDate as e,isDate as t,EpochUnit as r}from"@chriscdn/to-date";import{Memoize as n}from"@chriscdn/memoize";function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(null,arguments)}var i;!function(e){e[e.None=0]="None",e[e.DateTime=1]="DateTime",e[e.DateTimeMedium=2]="DateTimeMedium",e[e.DateTimeShort=3]="DateTimeShort",e[e.Date=4]="Date",e[e.DateMedium=5]="DateMedium",e[e.DateShort=6]="DateShort"}(i||(i={}));const u=86400,o=7*u,m=365*u,c=e=>{const t=new Date(e.getTime());return t.setUTCHours(0,0,0,0),t},s=n((e,t)=>new Intl.DateTimeFormat(e,t),{maxSize:20}),d=n((e,t)=>new Intl.RelativeTimeFormat(e,t),{maxSize:20}),l=e=>null==e?void 0:e.replace("_","-"),h=n((n,u={})=>{var o;const m=null!=(o=u.epochUnit)?o:r.BESTGUESS,c=e(n,m);if(t(c)){var d,h;const e=l(u.locale),t=null!=(d=u.preset)?d:i.DateTime,r=null!=(h=u.formatOptions)?h:{},n=(e=>{switch(e){case i.None:return{};case i.DateTime:return{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};case i.DateTimeMedium:return{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};case i.DateTimeShort:return{dateStyle:"short",timeStyle:"short"};case i.Date:return{year:"numeric",month:"long",day:"2-digit"};case i.DateMedium:return{year:"numeric",month:"short",day:"2-digit"};case i.DateShort:return{year:"numeric",month:"2-digit",day:"2-digit"};default:return{dateStyle:"full"}}})(t),o=a({},n,r);return s(e,o).format(c)}return null}),y=n((r,n)=>{const a=e(r);if(t(a)){const e=s("en-US",{timeZone:n,hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(a);return`${e.find(e=>"year"===e.type).value.padStart(4,"0")}-${e.find(e=>"month"===e.type).value}-${e.find(e=>"day"===e.type).value}`}return null}),f=n((r,n)=>{const a=e(r);if(t(a)){const e=s("en-US",{timeZone:n,hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(a);return`${e.find(e=>"year"===e.type).value.padStart(4,"0")}-${e.find(e=>"month"===e.type).value}-${e.find(e=>"day"===e.type).value}T${e.find(e=>"hour"===e.type).value}:${e.find(e=>"minute"===e.type).value}:${e.find(e=>"second"===e.type).value}`}return null}),g=n((n,i,u={})=>{var o;const m=null!=(o=u.epochUnit)?o:r.BESTGUESS,c=e(n,m),d=e(i,m);if(t(c)&&t(d)){var h;const e=l(u.locale),t=null!=(h=u.formatOptions)?h:{};return s(e,a({dateStyle:"long"},t)).formatRange(c,d)}return null}),p=(n,a={},i=void 0)=>{var s,h;const y=null!=(s=a.epochUnit)?s:r.BESTGUESS,f=e(n,y),g=null!=(h=e(i,y))?h:new Date;if(t(f)&&t(g)){var p;const e=l(a.locale),t=null!=(p=a.formatOptions)?p:{},r=Math.round((f.getTime()-g.getTime())/1e3),n=Math.abs(r);let i;i=a.unit?a.unit:n<60?"second":n<3600?"minute":n<u?"hour":n<2*o?"day":n<5256e3?"week":n<m?"month":"year";const s=((e,t)=>{switch(t){case"year":case"years":return Math.round(e/m*10)/10;case"quarter":case"quarters":return Math.round(e/7884e3);case"month":case"months":return Math.round(e/2628e3);case"week":case"weeks":return Math.round(e/o);case"day":case"days":return Math.round(e/u);case"hour":case"hours":return Math.round(e/3600);case"minute":case"minutes":return Math.round(e/60);case"second":case"seconds":return e}})(n>u?Math.round((c(f).getTime()-c(g).getTime())/1e3):r,i);return d(e,t).format(s,i)}return null};export{i as FormatDatePreset,h as formatDate,g as formatDateRange,p as formatDateRelative,y as formatDateYYYYMMDD,f as formatDateYYYYMMDDTHHMMSS};
//# sourceMappingURL=format-date.modern.js.map

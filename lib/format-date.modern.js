import{toDate as t,isDate as e,EpochUnit as r}from"@chriscdn/to-date";import{Memoize as n}from"@chriscdn/memoize";import{getUserLocale as a}from"get-user-locale";function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o.apply(null,arguments)}var u;!function(t){t[t.None=0]="None",t[t.DateTime=1]="DateTime",t[t.DateTimeShort=2]="DateTimeShort",t[t.Date=3]="Date",t[t.DateMedium=4]="DateMedium",t[t.DateShort=5]="DateShort"}(u||(u={}));const i=n((t,e)=>new Intl.DateTimeFormat(t,e),{maxSize:20}),s=n((t,e)=>new Intl.RelativeTimeFormat(t,e),{maxSize:20}),c=n((r,n,a,o)=>{const u=t(r,a),s=i(n,o);return e(u)?s.format(u):void 0}),l=n((t,e,r,n)=>s(r,n).format(t,e)),m=n(t=>{var e;return(null!=(e=t.locale)?e:a({fallbackLocale:"en-GB"})).replace("_","-")}),d=n((t,e={})=>{if(null==t)return null;{var n,a,i;const s=m(e),l=null!=(n=e.preset)?n:u.DateTime,d=null!=(a=e.epochUnit)?a:r.BESTGUESS,h=null!=(i=e.formatOptions)?i:{},S=(t=>{switch(t){case u.None:return{};case u.DateTime:return{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};case u.DateTimeShort:return{dateStyle:"short",timeStyle:"short"};case u.Date:return{year:"numeric",month:"long",day:"2-digit"};case u.DateMedium:return{year:"numeric",month:"short",day:"2-digit"};case u.DateShort:return{year:"numeric",month:"2-digit",day:"2-digit"};default:return{dateStyle:"full"}}})(l),g=o({},S,h);return c(t,s,d,g)}}),h=n(e=>{const r=t(e);if(r){const t=r.getFullYear(),e=r.getMonth()+1,n=r.getDate();return[t,e.toString().padStart(2,"0"),n.toString().padStart(2,"0")].join("-")}return null}),S=n(e=>{const r=t(e);if(r){const t=r.getFullYear(),e=r.getMonth()+1,n=r.getDate(),a=r.getHours(),o=r.getMinutes(),u=r.getSeconds();return[[t,e.toString().padStart(2,"0"),n.toString().padStart(2,"0")].join("-"),[a.toString().padStart(2,"0"),o.toString().padStart(2,"0"),u.toString().padStart(2,"0")].join(":")].join("T")}return null}),g=(e,n={})=>{if(null==e)return null;{var a,o;const u=m(n),i=null!=(a=n.epochUnit)?a:r.BESTGUESS,s=null!=(o=n.formatOptions)?o:{},c=new Date,d=t(e,i),h=Math.round((d.getTime()-c.getTime())/1e3),S=Math.abs(h);let g;g=n.unit?n.unit:S<60?"second":S<3600?"minute":S<86400?"hour":S<2592e3?"day":S<31536e3?"month":"year";const p=((t,e)=>{switch(e){case"year":case"years":return Math.round(t/31536e3);case"quarter":case"quarters":return Math.round(t/7884e3);case"month":case"months":return Math.round(t/2629800);case"week":case"weeks":return Math.round(t/604800);case"day":case"days":return Math.round(t/86400);case"hour":case"hours":return Math.round(t/3600);case"minute":case"minutes":return Math.round(t/60);case"second":case"seconds":return t}})(h,g);return l(p,g,u,s)}};export{u as FormatDatePreset,d as formatDate,g as formatDateRelative,h as formatDateYYYYMMDD,S as formatDateYYYYMMDDTHHMMSS};
//# sourceMappingURL=format-date.modern.js.map

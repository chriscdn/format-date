import{toDate as e,isDate as t,EpochUnit as n}from"@chriscdn/to-date";import{Memoize as r}from"@chriscdn/memoize";function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(null,arguments)}var i;!function(e){e[e.None=0]="None",e[e.DateTime=1]="DateTime",e[e.DateTimeShort=2]="DateTimeShort",e[e.Date=3]="Date",e[e.DateMedium=4]="DateMedium",e[e.DateShort=5]="DateShort"}(i||(i={}));const o=86400,u=7*o,c=365*o,s=e=>{const t=new Date(e.getTime());return t.setUTCHours(0,0,0,0),t},l=r((e,t)=>new Intl.DateTimeFormat(e,t),{maxSize:20}),m=r((e,t)=>new Intl.RelativeTimeFormat(e,t),{maxSize:20}),d=e=>null==e?void 0:e.replace("_","-"),h=r((r,o={})=>{var u;const c=null!=(u=o.epochUnit)?u:n.BESTGUESS,s=e(r,c);if(t(s)){var m,h;const e=d(o.locale),t=null!=(m=o.preset)?m:i.DateTime,n=null!=(h=o.formatOptions)?h:{},r=(e=>{switch(e){case i.None:return{};case i.DateTime:return{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};case i.DateTimeShort:return{dateStyle:"short",timeStyle:"short"};case i.Date:return{year:"numeric",month:"long",day:"2-digit"};case i.DateMedium:return{year:"numeric",month:"short",day:"2-digit"};case i.DateShort:return{year:"numeric",month:"2-digit",day:"2-digit"};default:return{dateStyle:"full"}}})(t),u=a({},r,n);return l(e,u).format(s)}return null}),y=r((n,r)=>{const a=e(n);if(t(a)){const e=l("en-US",{timeZone:r,hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(a);return`${e.find(e=>"year"===e.type).value}-${e.find(e=>"month"===e.type).value}-${e.find(e=>"day"===e.type).value}`}return null}),f=r((n,r)=>{const a=e(n);if(t(a)){const e=l("en-US",{timeZone:r,hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(a);return`${e.find(e=>"year"===e.type).value}-${e.find(e=>"month"===e.type).value}-${e.find(e=>"day"===e.type).value}T${e.find(e=>"hour"===e.type).value}:${e.find(e=>"minute"===e.type).value}:${e.find(e=>"second"===e.type).value}`}return null}),g=r((r,i,o={})=>{var u;const c=null!=(u=o.epochUnit)?u:n.BESTGUESS,s=e(r,c),m=e(i,c);if(t(s)&&t(m)){var h;const e=d(o.locale),t=null!=(h=o.formatOptions)?h:{};return l(e,a({dateStyle:"long"},t)).formatRange(s,m)}return null}),p=(r,a={},i=void 0)=>{var l,d;const h=null!=(l=a.epochUnit)?l:n.BESTGUESS,y=e(r,h),f=null!=(d=e(i,h))?d:new Date;if(t(y)&&t(f)){var g;const e=a.locale,t=null!=(g=a.formatOptions)?g:{},n=Math.round((y.getTime()-f.getTime())/1e3),r=Math.abs(n);let i;i=a.unit?a.unit:r<60?"second":r<3600?"minute":r<o?"hour":r<2*u?"day":r<5256e3?"week":r<c?"month":"year";const l=((e,t)=>{switch(t){case"year":case"years":return Math.round(e/c*10)/10;case"quarter":case"quarters":return Math.round(e/7884e3);case"month":case"months":return Math.round(e/2628e3);case"week":case"weeks":return Math.round(e/u);case"day":case"days":return Math.round(e/o);case"hour":case"hours":return Math.round(e/3600);case"minute":case"minutes":return Math.round(e/60);case"second":case"seconds":return e}})(r>o?Math.round((s(y).getTime()-s(f).getTime())/1e3):n,i);return m(e,t).format(l,i)}return null};export{i as FormatDatePreset,h as formatDate,g as formatDateRange,p as formatDateRelative,y as formatDateYYYYMMDD,f as formatDateYYYYMMDDTHHMMSS};
//# sourceMappingURL=format-date.modern.js.map

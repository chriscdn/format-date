import{toDate as e,isDate as t,EpochUnit as n}from"@chriscdn/to-date";import{Memoize as r}from"@chriscdn/memoize";function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(null,arguments)}var u;!function(e){e[e.None=0]="None",e[e.DateTime=1]="DateTime",e[e.DateTimeMedium=2]="DateTimeMedium",e[e.DateTimeShort=3]="DateTimeShort",e[e.Date=4]="Date",e[e.DateMedium=5]="DateMedium",e[e.DateShort=6]="DateShort"}(u||(u={}));var i=86400,o=7*i,c=365*i,m=function(e){var t=new Date(e.getTime());return t.setUTCHours(0,0,0,0),t},d=r(function(e,t){return new Intl.DateTimeFormat(e,t)},{maxSize:20}),l=r(function(e,t){return new Intl.RelativeTimeFormat(e,t)},{maxSize:20}),s=function(e){return null==e?void 0:e.replace("_","-")},h=r(function(r,i){var o;void 0===i&&(i={});var c=null!=(o=i.epochUnit)?o:n.BESTGUESS,m=e(r,c);if(t(m)){var l,h,f=s(i.locale),y=null!=(l=i.preset)?l:u.DateTime,v=null!=(h=i.formatOptions)?h:{},g=function(e){switch(e){case u.None:return{};case u.DateTime:return{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};case u.DateTimeMedium:return{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};case u.DateTimeShort:return{dateStyle:"short",timeStyle:"short"};case u.Date:return{year:"numeric",month:"long",day:"2-digit"};case u.DateMedium:return{year:"numeric",month:"short",day:"2-digit"};case u.DateShort:return{year:"numeric",month:"2-digit",day:"2-digit"};default:return{dateStyle:"full"}}}(y),p=a({},g,v);return d(f,p).format(m)}return null}),f=r(function(n,r){var a=e(n);if(t(a)){var u=d("en-US",{timeZone:r,hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(a);return u.find(function(e){return"year"===e.type}).value.padStart(4,"0")+"-"+u.find(function(e){return"month"===e.type}).value+"-"+u.find(function(e){return"day"===e.type}).value}return null}),y=r(function(n,r){var a=e(n);if(t(a)){var u=d("en-US",{timeZone:r,hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(a);return u.find(function(e){return"year"===e.type}).value.padStart(4,"0")+"-"+u.find(function(e){return"month"===e.type}).value+"-"+u.find(function(e){return"day"===e.type}).value+"T"+u.find(function(e){return"hour"===e.type}).value+":"+u.find(function(e){return"minute"===e.type}).value+":"+u.find(function(e){return"second"===e.type}).value}return null}),v=r(function(r,u,i){var o;void 0===i&&(i={});var c=null!=(o=i.epochUnit)?o:n.BESTGUESS,m=e(r,c),l=e(u,c);if(t(m)&&t(l)){var h,f=s(i.locale),y=null!=(h=i.formatOptions)?h:{};return d(f,a({dateStyle:"long"},y)).formatRange(m,l)}return null}),g=function(r,a,u){var d,h;void 0===a&&(a={}),void 0===u&&(u=void 0);var f=null!=(d=a.epochUnit)?d:n.BESTGUESS,y=e(r,f),v=null!=(h=e(u,f))?h:new Date;if(t(y)&&t(v)){var g,p,S=s(a.locale),T=null!=(g=a.formatOptions)?g:{},D=Math.round((y.getTime()-v.getTime())/1e3),M=Math.abs(D);p=a.unit?a.unit:M<60?"second":M<3600?"minute":M<i?"hour":M<2*o?"day":M<5256e3?"week":M<c?"month":"year";var w=function(e,t){switch(t){case"year":case"years":return n=e/c,r=Math.pow(10,1),Math.round(n*r)/r;case"quarter":case"quarters":return Math.round(e/7884e3);case"month":case"months":return Math.round(e/2628e3);case"week":case"weeks":return Math.round(e/o);case"day":case"days":return Math.round(e/i);case"hour":case"hours":return Math.round(e/3600);case"minute":case"minutes":return Math.round(e/60);case"second":case"seconds":return e}var n,r}(M>i?Math.round((m(y).getTime()-m(v).getTime())/1e3):D,p);return l(S,T).format(w,p)}return null};export{u as FormatDatePreset,h as formatDate,v as formatDateRange,g as formatDateRelative,f as formatDateYYYYMMDD,y as formatDateYYYYMMDDTHHMMSS};
//# sourceMappingURL=format-date.module.js.map

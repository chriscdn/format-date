import{toDate as t,isDate as e,EpochUnit as r}from"@chriscdn/to-date";import{Memoize as n}from"@chriscdn/memoize";import{getUserLocale as a}from"get-user-locale";function u(){return u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u.apply(null,arguments)}var o;!function(t){t[t.None=0]="None",t[t.DateTime=1]="DateTime",t[t.DateTimeShort=2]="DateTimeShort",t[t.Date=3]="Date",t[t.DateMedium=4]="DateMedium",t[t.DateShort=5]="DateShort"}(o||(o={}));var i=n(function(t,e){return new Intl.DateTimeFormat(t,e)},{maxSize:20}),c=n(function(t,e){return new Intl.RelativeTimeFormat(t,e)},{maxSize:20}),l=n(function(r,n,a,u){var o=t(r,a),c=i(n,u);return e(o)?c.format(o):void 0}),s=n(function(t,e,r,n){return c(r,n).format(t,e)}),m=n(function(t){var e;return(null!=(e=t.locale)?e:a({fallbackLocale:"en-GB"})).replace("_","-")}),d=n(function(t,e){if(void 0===e&&(e={}),null==t)return null;var n,a,i,c=m(e),s=null!=(n=e.preset)?n:o.DateTime,d=null!=(a=e.epochUnit)?a:r.BESTGUESS,h=null!=(i=e.formatOptions)?i:{},S=function(t){switch(t){case o.None:return{};case o.DateTime:return{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};case o.DateTimeShort:return{dateStyle:"short",timeStyle:"short"};case o.Date:return{year:"numeric",month:"long",day:"2-digit"};case o.DateMedium:return{year:"numeric",month:"short",day:"2-digit"};case o.DateShort:return{year:"numeric",month:"2-digit",day:"2-digit"};default:return{dateStyle:"full"}}}(s),f=u({},S,h);return l(t,c,d,f)}),h=n(function(e){var r=t(e);if(r){var n=r.getFullYear(),a=r.getMonth()+1,u=r.getDate();return[n,a.toString().padStart(2,"0"),u.toString().padStart(2,"0")].join("-")}return null}),S=n(function(e){var r=t(e);if(r){var n=r.getFullYear(),a=r.getMonth()+1,u=r.getDate(),o=r.getHours(),i=r.getMinutes(),c=r.getSeconds();return[[n,a.toString().padStart(2,"0"),u.toString().padStart(2,"0")].join("-"),[o.toString().padStart(2,"0"),i.toString().padStart(2,"0"),c.toString().padStart(2,"0")].join(":")].join("T")}return null}),f=function(e,n){if(void 0===n&&(n={}),null==e)return null;var a,u,o,i=m(n),c=null!=(a=n.epochUnit)?a:r.BESTGUESS,l=null!=(u=n.formatOptions)?u:{},d=new Date,h=t(e,c),S=Math.round((h.getTime()-d.getTime())/1e3),f=Math.abs(S),g=function(t,e){switch(e){case"year":case"years":return Math.round(t/31536e3);case"quarter":case"quarters":return Math.round(t/7884e3);case"month":case"months":return Math.round(t/2629800);case"week":case"weeks":return Math.round(t/604800);case"day":case"days":return Math.round(t/86400);case"hour":case"hours":return Math.round(t/3600);case"minute":case"minutes":return Math.round(t/60);case"second":case"seconds":return t}}(S,o=n.unit?n.unit:f<60?"second":f<3600?"minute":f<86400?"hour":f<2592e3?"day":f<31536e3?"month":"year");return s(g,o,i,l)};export{o as FormatDatePreset,d as formatDate,h as formatDateYYYYMMDD,S as formatDateYYYYMMDDTHHMMSS,f as formateRelativeDate};
//# sourceMappingURL=format-date.module.js.map

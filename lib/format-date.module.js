import{toDate as t,isDate as e,EpochUnit as r}from"@chriscdn/to-date";import{Memoize as n}from"@chriscdn/memoize";import{getUserLocale as a}from"get-user-locale";function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o.apply(null,arguments)}var u;!function(t){t[t.None=0]="None",t[t.DateTime=1]="DateTime",t[t.DateTimeShort=2]="DateTimeShort",t[t.Date=3]="Date",t[t.DateMedium=4]="DateMedium",t[t.DateShort=5]="DateShort"}(u||(u={}));var i=n(function(t,e){return new Intl.DateTimeFormat(t,e)},{maxSize:20}),c=n(function(t,e){return new Intl.RelativeTimeFormat(t,e)},{maxSize:20}),l=n(function(t){var e;return(null!=(e=t.locale)?e:a({fallbackLocale:"en-GB"})).replace("_","-")}),s=n(function(n,a){var c;void 0===a&&(a={});var s=null!=(c=a.epochUnit)?c:r.BESTGUESS,m=t(n,s);if(e(m)){var d,h,S=l(a),f=null!=(d=a.preset)?d:u.DateTime,g=null!=(h=a.formatOptions)?h:{},v=function(t){switch(t){case u.None:return{};case u.DateTime:return{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};case u.DateTimeShort:return{dateStyle:"short",timeStyle:"short"};case u.Date:return{year:"numeric",month:"long",day:"2-digit"};case u.DateMedium:return{year:"numeric",month:"short",day:"2-digit"};case u.DateShort:return{year:"numeric",month:"2-digit",day:"2-digit"};default:return{dateStyle:"full"}}}(f),p=o({},v,g);return i(S,p).format(m)}return null}),m=n(function(r){var n=t(r);if(e(n)){var a=n.getFullYear(),o=n.getMonth()+1,u=n.getDate();return[a,o.toString().padStart(2,"0"),u.toString().padStart(2,"0")].join("-")}return null}),d=n(function(e){var r=t(e);if(r){var n=r.getFullYear(),a=r.getMonth()+1,o=r.getDate(),u=r.getHours(),i=r.getMinutes(),c=r.getSeconds();return[[n,a.toString().padStart(2,"0"),o.toString().padStart(2,"0")].join("-"),[u.toString().padStart(2,"0"),i.toString().padStart(2,"0"),c.toString().padStart(2,"0")].join(":")].join("T")}return null}),h=n(function(n,a,u){var c;void 0===u&&(u={});var s=null!=(c=u.epochUnit)?c:r.BESTGUESS,m=t(n,s),d=t(a,s);if(e(m)&&e(d)){var h,S=l(u),f=null!=(h=u.formatOptions)?h:{};return i(S,o({dateStyle:"long"},f)).formatRange(m,d)}return null}),S=function(n,a,o){var u,i;void 0===a&&(a={}),void 0===o&&(o=void 0);var s=null!=(u=a.epochUnit)?u:r.BESTGUESS,m=t(n,s),d=null!=(i=t(o))?i:new Date;if(e(m)&&e(d)){var h,S,f,g=l(a),v=null!=(h=a.formatOptions)?h:{},p=null!=(S=t(o))?S:new Date,D=t(n,s),y=Math.round((D.getTime()-p.getTime())/1e3),M=Math.abs(y),T=function(t,e){switch(e){case"year":case"years":return Math.round(t/31536e3);case"quarter":case"quarters":return Math.round(t/7884e3);case"month":case"months":return Math.round(t/2629800);case"week":case"weeks":return Math.round(t/604800);case"day":case"days":return Math.round(t/86400);case"hour":case"hours":return Math.round(t/3600);case"minute":case"minutes":return Math.round(t/60);case"second":case"seconds":return t}}(y,f=a.unit?a.unit:M<60?"second":M<3600?"minute":M<86400?"hour":M<2592e3?"day":M<31536e3?"month":"year");return c(g,v).format(T,f)}return null};export{u as FormatDatePreset,s as formatDate,h as formatDateRange,S as formatDateRelative,m as formatDateYYYYMMDD,d as formatDateYYYYMMDDTHHMMSS};
//# sourceMappingURL=format-date.module.js.map

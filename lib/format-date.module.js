import{toDate as e,isDate as t,EpochUnit as n}from"@chriscdn/to-date";import{Memoize as r}from"@chriscdn/memoize";function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(null,arguments)}var u;!function(e){e[e.None=0]="None",e[e.DateTime=1]="DateTime",e[e.DateTimeShort=2]="DateTimeShort",e[e.Date=3]="Date",e[e.DateMedium=4]="DateMedium",e[e.DateShort=5]="DateShort"}(u||(u={}));var i=86400,o=7*i,c=365*i,d=function(e){var t=new Date(e.getTime());return t.setUTCHours(0,0,0,0),t},l=r(function(e,t){return new Intl.DateTimeFormat(e,t)},{maxSize:20}),m=r(function(e,t){return new Intl.RelativeTimeFormat(e,t)},{maxSize:20}),s=function(e){return null==e?void 0:e.replace("_","-")},f=r(function(r,i){var o;void 0===i&&(i={});var c=null!=(o=i.epochUnit)?o:n.BESTGUESS,d=e(r,c);if(t(d)){var m,f,h=s(i.locale),y=null!=(m=i.preset)?m:u.DateTime,v=null!=(f=i.formatOptions)?f:{},g=function(e){switch(e){case u.None:return{};case u.DateTime:return{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};case u.DateTimeShort:return{dateStyle:"short",timeStyle:"short"};case u.Date:return{year:"numeric",month:"long",day:"2-digit"};case u.DateMedium:return{year:"numeric",month:"short",day:"2-digit"};case u.DateShort:return{year:"numeric",month:"2-digit",day:"2-digit"};default:return{dateStyle:"full"}}}(y),p=a({},g,v);return l(h,p).format(d)}return null}),h=r(function(n,r){var a=e(n);if(t(a)){var u=l("en-US",{timeZone:r,hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(a);return u.find(function(e){return"year"===e.type}).value.padStart(4,"0")+"-"+u.find(function(e){return"month"===e.type}).value+"-"+u.find(function(e){return"day"===e.type}).value}return null}),y=r(function(n,r){var a=e(n);if(t(a)){var u=l("en-US",{timeZone:r,hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(a);return u.find(function(e){return"year"===e.type}).value.padStart(4,"0")+"-"+u.find(function(e){return"month"===e.type}).value+"-"+u.find(function(e){return"day"===e.type}).value+"T"+u.find(function(e){return"hour"===e.type}).value+":"+u.find(function(e){return"minute"===e.type}).value+":"+u.find(function(e){return"second"===e.type}).value}return null}),v=r(function(r,u,i){var o;void 0===i&&(i={});var c=null!=(o=i.epochUnit)?o:n.BESTGUESS,d=e(r,c),m=e(u,c);if(t(d)&&t(m)){var f,h=s(i.locale),y=null!=(f=i.formatOptions)?f:{};return l(h,a({dateStyle:"long"},y)).formatRange(d,m)}return null}),g=function(r,a,u){var l,f;void 0===a&&(a={}),void 0===u&&(u=void 0);var h=null!=(l=a.epochUnit)?l:n.BESTGUESS,y=e(r,h),v=null!=(f=e(u,h))?f:new Date;if(t(y)&&t(v)){var g,p,S=s(a.locale),T=null!=(g=a.formatOptions)?g:{},D=Math.round((y.getTime()-v.getTime())/1e3),M=Math.abs(D);p=a.unit?a.unit:M<60?"second":M<3600?"minute":M<i?"hour":M<2*o?"day":M<5256e3?"week":M<c?"month":"year";var w=function(e,t){switch(t){case"year":case"years":return n=e/c,r=Math.pow(10,1),Math.round(n*r)/r;case"quarter":case"quarters":return Math.round(e/7884e3);case"month":case"months":return Math.round(e/2628e3);case"week":case"weeks":return Math.round(e/o);case"day":case"days":return Math.round(e/i);case"hour":case"hours":return Math.round(e/3600);case"minute":case"minutes":return Math.round(e/60);case"second":case"seconds":return e}var n,r}(M>i?Math.round((d(y).getTime()-d(v).getTime())/1e3):D,p);return m(S,T).format(w,p)}return null};export{u as FormatDatePreset,f as formatDate,v as formatDateRange,g as formatDateRelative,h as formatDateYYYYMMDD,y as formatDateYYYYMMDDTHHMMSS};
//# sourceMappingURL=format-date.module.js.map
